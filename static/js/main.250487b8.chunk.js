(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{13:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),o=t(8),i=t.n(o),a=(t(13),t(3)),s=t(2),u=t(7),l=function(e,n){for(var t=e.row,c=e.col,r=Object(a.a)(n),o=[],i=t-1;i<=t+1;i++)for(var s=c-1;s<=c+1;s++){var u,l=null===(u=r[i])||void 0===u?void 0:u[s];l&&o.push(l)}return o.reduce((function(e,n){return n.isMine?e+1:e}),0)},j=function(e,n,t){for(var c=[],r=function(n){c=[].concat(Object(a.a)(c),[{open:!1,isMine:t.some((function(t){return t.col===n&&t.row===e})),marked:!1,nextToMines:0,row:e,col:n}])},o=0;o<n;o++)r(o);return c},f=function(e,n){for(var t=[],c=function(e,n){for(var t=[],c=function(e){return Math.floor(Math.random()*e)},r=function(){var e={row:c(n),col:c(n)};t.some((function(n){return n.col===e.col&&n.row===e.row}))||t.push(e)};t.length<e;)r();return t}(n,e),r=0;r<e;r++)t=[].concat(Object(a.a)(t),[j(r,e,c)]);return t.map((function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{nextToMines:l(e,t)})}))}))},d=t(0),b=function(e){var n=e.cssClass,t=e.tile,c=e.leftClick,r=e.rightClick;return Object(d.jsx)("div",{className:n,onClick:function(e){return c(e,t)},onContextMenu:function(e){return r(e,t)},children:Object(d.jsx)("span",{children:function(e){var n=e.open,c=e.marked,r=e.isMine;return n?r?"\ud83d\udca5":t.nextToMines>0?t.nextToMines.toLocaleString():"":c?"\ud83d\udea9":""}(t)})})},h=function(e){var n=e.gameBoard,t=e.handleOpenTile,c=e.handleMarkingTile,r=function(e,n){e.preventDefault(),t(n)},o=function(e,n){e.preventDefault(),c(n)};return Object(d.jsx)("div",{children:n.map((function(e,n){return Object(d.jsx)("div",{className:"row",children:e.map((function(e,n){return Object(d.jsx)(b,{cssClass:"block ".concat(e.open?e.isMine?"gameOver":"open":"hidden"),tile:e,leftClick:r,rightClick:o},"column ".concat(n))}))},"row ".concat(n))}))})},O=function(e){var n=e.boardSize,t=e.secToMinSec,r=Object(c.useState)([]),o=Object(s.a)(r,2),i=o[0],a=o[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("highScore".concat(n));if(e)return a(JSON.parse(e));a([])}),[n]),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Hight Score for ",n,"x",n]}),i.length>0?Object(d.jsx)("ol",{children:i.map((function(e,n){return Object(d.jsx)("li",{children:t(e)},"".concat(e,"-").concat(n))}))}):Object(d.jsx)("span",{children:"Couldn't find any high scores."})]})};var v=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(15),i=Object(s.a)(o,2),u=i[0],l=i[1],j=Object(c.useState)(!1),b=Object(s.a)(j,2),v=b[0],m=b[1],g=Object(c.useState)(!1),p=Object(s.a)(g,2),x=p[0],S=p[1],M=Object(c.useState)(0),k=Object(s.a)(M,2),w=k[0],C=k[1],T=Object(c.useState)(0),N=Object(s.a)(T,2),I=N[0],F=N[1];Object(c.useEffect)((function(){if(!(I>1200)&&v){var e=setInterval((function(){F((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}}),[I,v]),Object(c.useEffect)((function(){if(0===w&&!x&&v){var e=I;if(t.reduce((function(e,n){return e+n.reduce((function(e,n){return n.isMine&&!n.marked?e+1:e}),0)}),0)>0)return S(!0);var n=localStorage.getItem("highScore".concat(u));n?localStorage.setItem("highScore".concat(u),JSON.stringify([].concat(Object(a.a)(JSON.parse(n)),[e]).sort((function(e,n){return e-n})).slice(0,5))):localStorage.setItem("highScore".concat(u),JSON.stringify([e])),m(!1)}}),[w,x,I,t,u,v]);var J=function e(n,c){var r=Object(a.a)(t),o=c.length-1;if(r[n.row][n.col].open=!0,0===n.nextToMines)for(var i=n.row-1;i<=n.row+1;i++)for(var s=n.col-1;s<=n.col+1;s++)i>=0&&i<=o&&s>=0&&s<=o&&(r[i][s].open||r[i][s].isMine||(r[i][s].open=!0,e(r[i][s],r)));return r},y=function(e){var n=Math.floor(e/60),t=Math.floor(e%60),c=n>0?n<=9?"0".concat(n):n:"00",r=t>0?t<=9?"0".concat(t):t:"00";return"".concat(c,":").concat(r)};return Object(d.jsxs)("div",{className:"board",children:[Object(d.jsxs)("div",{className:"gameSettings",children:[Object(d.jsx)("button",{onClick:function(){return m(!1)},children:"View High Score"}),Object(d.jsx)("select",{value:u,onChange:function(e){return l(parseInt(e.target.value))},children:Object(d.jsx)("optgroup",{label:"Select Game Size",children:[15,20,30,40].map((function(e){return Object(d.jsxs)("option",{value:e,children:[e," x ",e]},e)}))})}),Object(d.jsx)("button",{onClick:function(){return function(e){var n=Math.floor(e*e/6);C(n),r(f(e,n)),S(!1),m(!0),F(0)}(u)},children:"Start Game"})]}),v?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"information",children:[Object(d.jsx)("span",{children:Object(d.jsxs)("span",{children:["\ud83d\udea9 ",w>99?w:w>9?"0".concat(w):"00".concat(w)]})}),x&&Object(d.jsx)("span",{className:"gameOver",children:" Game Over! "}),Object(d.jsx)("span",{children:Object(d.jsxs)("span",{children:[y(I)," \u23f1\ufe0f"]})})]}),Object(d.jsx)(h,{gameBoard:t,handleOpenTile:function(e){e.marked||0===w||x||(r(J(e,t)),e.isMine&&S(!0))},handleMarkingTile:function(e){var n=e.row,c=e.col;if(!e.open&&0!==w&&!x){var o=Object(a.a)(t);o[n][c].marked?(o[n][c].marked=!1,C((function(e){return e+1}))):(o[n][c].marked=!0,C((function(e){return e-1}))),r(o)}}})]}):Object(d.jsxs)(d.Fragment,{children:[I>0&&Object(d.jsxs)("h2",{children:["You cleared the minefield in ",y(I),"!"]}),Object(d.jsx)(O,{boardSize:u,secToMinSec:y})]})]})},m=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,16)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),o(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),m()}},[[15,1,2]]]);
//# sourceMappingURL=main.250487b8.chunk.js.map